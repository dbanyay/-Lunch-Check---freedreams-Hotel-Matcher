schema: '2.0'
stages:
  scrape_lunchcheck:
    cmd: python src/scrape_lunchcheck.py --base-url 
      https://www.lunch-card.ch/public/LunchCheck/LC_Directory.aspx 
      --output-filename lunchcheck_restaurants.csv --headless
    deps:
    - path: src/scrape_lunchcheck.py
      hash: md5
      md5: 5d376546000c657ed31595427ab0b71e
      size: 20310
    params:
      params.yaml:
        scrape_lunchcheck.base_url: 
          https://www.lunch-card.ch/public/LunchCheck/LC_Directory.aspx
    outs:
    - path: data/lunchcheck_restaurants.csv
      hash: md5
      md5: 1ac0f58f36b0075d091ab700a2bfad12
      size: 594624
  scrape_freedreams_2nights:
    cmd: python src/scrape_freedreams.py --base-url 
      https://www.freedreams.ch/de/hotels/schweiz --output-filename 
      freedreams_restaurants_2nights.csv --num-nights 2 --headless
    deps:
    - path: src/scrape_freedreams.py
      hash: md5
      md5: a721f41a38bafb1d2fbb70e31a331bb1
      size: 11947
    params:
      params.yaml:
        scrape_freedreams.base_url: https://www.freedreams.ch/de/hotels/schweiz
    outs:
    - path: data/freedreams_restaurants_2nights.csv
      hash: md5
      md5: 93b0c6b5039b38b26f0436a753b9a3c6
      size: 88347
  scrape_freedreams_3nights:
    cmd: python src/scrape_freedreams.py --base-url 
      https://www.freedreams.ch/de/hotels/schweiz --output-filename 
      freedreams_restaurants_3nights.csv --num-nights 3 --headless
    deps:
    - path: src/scrape_freedreams.py
      hash: md5
      md5: a721f41a38bafb1d2fbb70e31a331bb1
      size: 11947
    params:
      params.yaml:
        scrape_freedreams.base_url: https://www.freedreams.ch/de/hotels/schweiz
    outs:
    - path: data/freedreams_restaurants_3nights.csv
      hash: md5
      md5: 45b8458c3fb1fcf1dd1fcf8770ad1cea
      size: 169973
  merge_datasets:
    cmd: python src/merge_datasets.py --input-files 
      data/lunchcheck_restaurants.csv data/freedreams_restaurants_2nights.csv 
      data/freedreams_restaurants_3nights.csv --output-path output
    deps:
    - path: data/freedreams_restaurants_2nights.csv
      hash: md5
      md5: 93b0c6b5039b38b26f0436a753b9a3c6
      size: 88347
    - path: data/freedreams_restaurants_3nights.csv
      hash: md5
      md5: 45b8458c3fb1fcf1dd1fcf8770ad1cea
      size: 169973
    - path: data/lunchcheck_restaurants.csv
      hash: md5
      md5: 1ac0f58f36b0075d091ab700a2bfad12
      size: 594624
    - path: src/merge_datasets.py
      hash: md5
      md5: ebd5c006aa4b1e3b17fbb89a6f83559b
      size: 8805
    outs:
    - path: output/filtered_matches_2nights.csv
      hash: md5
      md5: 91a522f3396be3c7a91e3c09123cd739
      size: 2791
    - path: output/filtered_matches_3nights.csv
      hash: md5
      md5: f02d19ecd599b9e7237b86f67b70d6b3
      size: 4576
  collect_info_2nights:
    cmd: python src/collect_info.py --input-file 
      output/filtered_matches_2nights.csv --output-screenshots-html-path 
      results/2_nights_info.html --output-map-html-path 
      results/2_nights_map.html
    deps:
    - path: output/filtered_matches_2nights.csv
      hash: md5
      md5: 91a522f3396be3c7a91e3c09123cd739
      size: 2791
    - path: src/collect_info.py
      hash: md5
      md5: 5ea391a698bfa4ec459be357e7017ecc
      size: 19304
    outs:
    - path: results/2_nights_info.html
      hash: md5
      md5: 15ae997effa0bd3da2a73a36ff28dfec
      size: 7859109
    - path: results/2_nights_map.html
      hash: md5
      md5: 91cb062ec9fbe0d1e6ac64e7a7874a4b
      size: 6593234
  collect_info_3nights:
    cmd: python src/collect_info.py --input-file 
      output/filtered_matches_3nights.csv --output-screenshots-html-path 
      results/3_nights_info.html --output-map-html-path 
      results/3_nights_map.html
    deps:
    - path: output/filtered_matches_3nights.csv
      hash: md5
      md5: f02d19ecd599b9e7237b86f67b70d6b3
      size: 4576
    - path: src/collect_info.py
      hash: md5
      md5: 5ea391a698bfa4ec459be357e7017ecc
      size: 19304
    outs:
    - path: results/3_nights_info.html
      hash: md5
      md5: 951e84e16060ba6420dce47dd88a2636
      size: 13276720
    - path: results/3_nights_map.html
      hash: md5
      md5: a2904355089c27652b0093ba2c2cd70f
      size: 11408405
