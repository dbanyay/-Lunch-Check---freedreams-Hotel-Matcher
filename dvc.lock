schema: '2.0'
stages:
  scrape_lunchcheck:
    cmd: python src/scrape_lunchcheck.py --base-url 
      https://www.lunch-card.ch/public/LunchCheck/LC_Directory.aspx 
      --output-filename lunchcheck_restaurants.csv --headless
    deps:
    - path: src/scrape_lunchcheck.py
      hash: md5
      md5: 5d376546000c657ed31595427ab0b71e
      size: 20310
    params:
      params.yaml:
        scrape_lunchcheck.base_url: 
          https://www.lunch-card.ch/public/LunchCheck/LC_Directory.aspx
    outs:
    - path: data/lunchcheck_restaurants.csv
      hash: md5
      md5: 6b963c33a46a8f98e470ce406c2fbea3
      size: 591704
  scrape_freedreams_2nights:
    cmd: python src/scrape_freedreams.py --base-url 
      https://www.freedreams.ch/de/hotels/schweiz --output-filename 
      freedreams_restaurants_2nights.csv --num-nights 2
    deps:
    - path: src/scrape_freedreams.py
      hash: md5
      md5: a721f41a38bafb1d2fbb70e31a331bb1
      size: 11947
    params:
      params.yaml:
        scrape_freedreams.base_url: https://www.freedreams.ch/de/hotels/schweiz
    outs:
    - path: data/freedreams_restaurants_2nights.csv
      hash: md5
      md5: 5f710e486c7e0b1c3c0fd55668d56ea1
      size: 88965
  scrape_freedreams_3nights:
    cmd: python src/scrape_freedreams.py --base-url 
      https://www.freedreams.ch/de/hotels/schweiz --output-filename 
      freedreams_restaurants_3nights.csv --num-nights 3
    deps:
    - path: src/scrape_freedreams.py
      hash: md5
      md5: a721f41a38bafb1d2fbb70e31a331bb1
      size: 11947
    params:
      params.yaml:
        scrape_freedreams.base_url: https://www.freedreams.ch/de/hotels/schweiz
    outs:
    - path: data/freedreams_restaurants_3nights.csv
      hash: md5
      md5: 6840ff5b7a39a260e42d6d486d17b184
      size: 169734
  merge_datasets:
    cmd: python src/merge_datasets.py --input-files 
      data/lunchcheck_restaurants.csv data/freedreams_restaurants_2nights.csv 
      data/freedreams_restaurants_3nights.csv --output-path output
    deps:
    - path: data/freedreams_restaurants_2nights.csv
      hash: md5
      md5: 5f710e486c7e0b1c3c0fd55668d56ea1
      size: 88965
    - path: data/freedreams_restaurants_3nights.csv
      hash: md5
      md5: 6840ff5b7a39a260e42d6d486d17b184
      size: 169734
    - path: data/lunchcheck_restaurants.csv
      hash: md5
      md5: 6b963c33a46a8f98e470ce406c2fbea3
      size: 591704
    - path: src/merge_datasets.py
      hash: md5
      md5: ebd5c006aa4b1e3b17fbb89a6f83559b
      size: 8805
    outs:
    - path: output/filtered_matches_2nights.csv
      hash: md5
      md5: 0bc035eb2753c26e2159cc56f0e989ab
      size: 2791
    - path: output/filtered_matches_3nights.csv
      hash: md5
      md5: f0aa3c2940001142a138be2c66a726fb
      size: 4576
  collect_info_2nights:
    cmd: python src/collect_info.py --input-file 
      output/filtered_matches_2nights.csv --output-screenshots-html-path 
      results/2_nights_info.html --output-map-html-path 
      results/2_nights_map.html
    deps:
    - path: output/filtered_matches_2nights.csv
      hash: md5
      md5: 0bc035eb2753c26e2159cc56f0e989ab
      size: 2791
    - path: src/collect_info.py
      hash: md5
      md5: 5ea391a698bfa4ec459be357e7017ecc
      size: 19304
    outs:
    - path: results/2_nights_info.html
      hash: md5
      md5: ecb5e8acfaf8cfc64549560a9468ab56
      size: 8530061
    - path: results/2_nights_map.html
      hash: md5
      md5: 2fc0e296d02179209fab04688db43183
      size: 7139626
  collect_info_3nights:
    cmd: python src/collect_info.py --input-file 
      output/filtered_matches_3nights.csv --output-screenshots-html-path 
      results/3_nights_info.html --output-map-html-path 
      results/3_nights_map.html
    deps:
    - path: output/filtered_matches_3nights.csv
      hash: md5
      md5: f0aa3c2940001142a138be2c66a726fb
      size: 4576
    - path: src/collect_info.py
      hash: md5
      md5: 5ea391a698bfa4ec459be357e7017ecc
      size: 19304
    outs:
    - path: results/3_nights_info.html
      hash: md5
      md5: 9199028e3d3e219d8a7fc51febe76c4e
      size: 14362292
    - path: results/3_nights_map.html
      hash: md5
      md5: f304e0a4770eba81623710bbe067299d
      size: 12326877
